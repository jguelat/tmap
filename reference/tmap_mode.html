<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Set tmap mode to static plotting or interactive viewing — tmap_mode • tmap</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Set tmap mode to static plotting or interactive viewing — tmap_mode"><meta name="description" content="Set tmap mode to static plotting or interactive viewing. The global option tmap.mode determines the whether thematic maps are plot in the graphics device, or shown as an interactive leaflet map (see also tmap_options. The function tmap_mode is a wrapper to set this global option. The convenient function ttm, which stands for toggle thematic map, is a toggle switch between the two modes. The function ttmp stands for toggle thematic map and print last map: it does the same as ttm followed by tmap_last; in order words, it shows the last map in the other mode. It is recommended to use tmap_mode in scripts and ttm/ttmp in the console."><meta property="og:description" content="Set tmap mode to static plotting or interactive viewing. The global option tmap.mode determines the whether thematic maps are plot in the graphics device, or shown as an interactive leaflet map (see also tmap_options. The function tmap_mode is a wrapper to set this global option. The convenient function ttm, which stands for toggle thematic map, is a toggle switch between the two modes. The function ttmp stands for toggle thematic map and print last map: it does the same as ttm followed by tmap_last; in order words, it shows the last map in the other mode. It is recommended to use tmap_mode in scripts and ttm/ttmp in the console."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tmap</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">3.3-4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/tmap-changes.html">tmap: version changes</a></li>
    <li><a class="dropdown-item" href="../articles/tmap-getstarted.html">tmap: get started!</a></li>
    <li><a class="dropdown-item" href="../articles/tmap-JSS-code.html">tmap: JSS article reproduction code</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-tmap/tmap/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Set tmap mode to static plotting or interactive viewing</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-tmap/tmap/blob/v3/R/tmap_mode.R" class="external-link"><code>R/tmap_mode.R</code></a></small>
      <div class="d-none name"><code>tmap_mode.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Set tmap mode to static plotting or interactive viewing. The global option <code>tmap.mode</code> determines the whether thematic maps are plot in the graphics device, or shown as an interactive leaflet map (see also <code><a href="tmap_options.html">tmap_options</a></code>. The function <code>tmap_mode</code> is a wrapper to set this global option. The convenient function <code>ttm</code>, which stands for toggle thematic map, is a toggle switch between the two modes. The function <code>ttmp</code> stands for toggle thematic map and print last map: it does the same as <code>ttm</code> followed by <code>tmap_last</code>; in order words, it shows the last map in the other mode. It is recommended to use <code>tmap_mode</code> in scripts and <code>ttm</code>/<code>ttmp</code> in the console.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tmap_mode</span><span class="op">(</span>mode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"plot"</span>, <span class="st">"view"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ttm</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ttmp</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p>one of</p><dl><dt><code>"plot"</code></dt>
<dd><p>Thematic maps are shown in the graphics device. This is the default mode, and supports all tmap's features, such as small multiples (see <code><a href="tm_facets.html">tm_facets</a></code>) and extensive layout settings (see <code><a href="tm_layout.html">tm_layout</a></code>). It is recommended for saving static maps (see <code><a href="tmap_save.html">tmap_save</a></code>).</p></dd>

       <dt><code>"view"</code></dt>
<dd><p>Thematic maps are viewed interactively in the web browser or RStudio's Viewer pane. Maps are fully interactive with tiles from OpenStreetMap or other map providers (see <code><a href="tm_tiles.html">tm_tiles</a></code>). See also <code><a href="tm_view.html">tm_view</a></code> for options related to the <code>"view"</code> mode. This mode generates a <code><a href="https://rstudio.github.io/leaflet/reference/leaflet.html" class="external-link">leaflet</a></code> widget, which can also be directly obtained with <code><a href="tmap_leaflet.html">tmap_leaflet</a></code>. With RMarkdown, it is possible to publish it to an HTML page.
       There are a couple of constraints in comparison to <code>"plot"</code>:</p><ul><li><p>The map is always projected according to the Web Mercator projection. Although this projection is the de facto standard for interactive web-based mapping, it lacks the equal-area property, which is important for many thematic maps, especially choropleths (see examples from <code><a href="tm_shape.html">tm_shape</a></code>).</p></li>
<li><p>Small multiples are not supported</p></li>
<li><p>The legend cannot be made for aesthetics regarding size, which are symbol size and line width.</p></li>
<li><p>Text labels are not supported (yet)</p></li>
<li><p>The layout options set with <code><a href="tm_layout.html">tm_layout</a></code>) regarding map format are not used. However, the styling options still apply.</p></li>
</ul><p></p></dd>

</dl></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>the mode before changing</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Tennekes, M., 2018, tmap: Thematic Maps in R, Journal of Statistical Software, 84(6), 1-39, <a href="https://doi.org/10.18637/jss.v084.i06" class="external-link">doi:10.18637/jss.v084.i06</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="../doc/tmap-getstarted.html"><code><a href="../articles/tmap-getstarted.html">vignette("tmap-getstarted")</a></code></a>, <code><a href="tmap_last.html">tmap_last</a></code> to show the last map, <code><a href="tm_view.html">tm_view</a></code> for viewing options, and <code><a href="tmap_leaflet.html">tmap_leaflet</a></code> for obtaining a leaflet widget, and <code><a href="tmap_options.html">tmap_options</a></code> for tmap options.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># world choropleth/bubble map of the world</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">World</span>, <span class="va">metro</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">metro</span><span class="op">$</span><span class="va">growth</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">metro</span><span class="op">$</span><span class="va">pop2020</span> <span class="op">-</span> <span class="va">metro</span><span class="op">$</span><span class="va">pop2010</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="va">metro</span><span class="op">$</span><span class="va">pop2010</span> <span class="op">*</span> <span class="fl">10</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">map1</span> <span class="op">&lt;-</span> <span class="fu"><a href="tm_shape.html">tm_shape</a></span><span class="op">(</span><span class="va">World</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tm_polygons.html">tm_polygons</a></span><span class="op">(</span><span class="st">"income_grp"</span>, palette<span class="op">=</span><span class="st">"-Blues"</span>, contrast<span class="op">=</span><span class="fl">.7</span>, id<span class="op">=</span><span class="st">"name"</span>, title<span class="op">=</span><span class="st">"Income group"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tm_shape.html">tm_shape</a></span><span class="op">(</span><span class="va">metro</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tm_symbols.html">tm_bubbles</a></span><span class="op">(</span><span class="st">"pop2010"</span>, col <span class="op">=</span> <span class="st">"growth"</span>, </span></span>
<span class="r-in"><span>    border.col <span class="op">=</span> <span class="st">"black"</span>, border.alpha <span class="op">=</span> <span class="fl">.5</span>, </span></span>
<span class="r-in"><span>    style<span class="op">=</span><span class="st">"fixed"</span>, breaks<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="cn">Inf</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">6</span>, by<span class="op">=</span><span class="fl">2</span><span class="op">)</span>, <span class="cn">Inf</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    palette<span class="op">=</span><span class="st">"-RdYlBu"</span>, contrast<span class="op">=</span><span class="fl">1</span>, </span></span>
<span class="r-in"><span>    title.size<span class="op">=</span><span class="st">"Metro population"</span>, </span></span>
<span class="r-in"><span>    title.col<span class="op">=</span><span class="st">"Growth rate (%)"</span>, id<span class="op">=</span><span class="st">"name"</span>,</span></span>
<span class="r-in"><span>    popup.vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pop2010"</span>, <span class="st">"pop2020"</span>, <span class="st">"growth"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="tm_layout.html">tm_layout</a></span><span class="op">(</span>legend.bg.color <span class="op">=</span> <span class="st">"grey90"</span>, legend.bg.alpha<span class="op">=</span><span class="fl">.5</span>, legend.frame<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># initial mode: "plot"</span></span></span>
<span class="r-in"><span><span class="va">current.mode</span> <span class="op">&lt;-</span> <span class="fu">tmap_mode</span><span class="op">(</span><span class="st">"plot"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> tmap mode set to plotting</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot map</span></span></span>
<span class="r-in"><span><span class="va">map1</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> old-style crs object detected; please recreate object with a recent sf::st_crs()</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> old-style crs object detected; please recreate object with a recent sf::st_crs()</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> old-style crs object detected; please recreate object with a recent sf::st_crs()</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Variable(s) "growth" contains positive and negative values, so midpoint is set to 0. Set midpoint = NA to show the full spectrum of the color palette.</span>
<span class="r-plt img"><img src="tmap_mode-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># switch to other mode: "view"</span></span></span>
<span class="r-in"><span><span class="fu">ttm</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> tmap mode set to interactive viewing</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># view map</span></span></span>
<span class="r-in"><span><span class="va">map1</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> old-style crs object detected; please recreate object with a recent sf::st_crs()</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> old-style crs object detected; please recreate object with a recent sf::st_crs()</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> old-style crs object detected; please recreate object with a recent sf::st_crs()</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Variable(s) "growth" contains positive and negative values, so midpoint is set to 0. Set midpoint = NA to show the full spectrum of the color palette.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Legend for symbol sizes not available in view mode.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># choropleth of the Dutch population in interactive mode:</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mtennekes/tmaptools" class="external-link">tmaptools</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">NLD_muni</span>, <span class="va">NLD_prov</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">NLD_muni</span><span class="op">$</span><span class="va">pop_dens</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tmaptools/man/calc_densities.html" class="external-link">calc_densities</a></span><span class="op">(</span><span class="va">NLD_muni</span>, var <span class="op">=</span> <span class="st">"population"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="tm_shape.html">tm_shape</a></span><span class="op">(</span><span class="va">NLD_muni</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tm_polygons.html">tm_fill</a></span><span class="op">(</span>col<span class="op">=</span><span class="st">"pop_dens"</span>, </span></span>
<span class="r-in"><span>    style<span class="op">=</span><span class="st">"kmeans"</span>, </span></span>
<span class="r-in"><span>    title <span class="op">=</span> <span class="st">"Population (per km^2)"</span>, id <span class="op">=</span> <span class="st">"name"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tm_polygons.html">tm_borders</a></span><span class="op">(</span><span class="st">"grey25"</span>, alpha<span class="op">=</span><span class="fl">.5</span><span class="op">)</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="tm_shape.html">tm_shape</a></span><span class="op">(</span><span class="va">NLD_prov</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tm_polygons.html">tm_borders</a></span><span class="op">(</span><span class="st">"grey40"</span>, lwd<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># restore current mode</span></span></span>
<span class="r-in"><span><span class="fu">tmap_mode</span><span class="op">(</span><span class="va">current.mode</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> tmap mode set to plotting</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martijn Tennekes.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

